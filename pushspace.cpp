/*==============================================================================

	頂点管理 [pushspace.cpp]
	Author :20106_田中蓮
	Date   :23_09_22
--------------------------------------------------------------------------------

==============================================================================*/
#include "pushspace.h"
#include "sprite.h"
#include "texture.h"

//*****************************************************************************
// マクロ定義
//*****************************************************************************
#define TEX_WIDTH	(603.0f)	//テクスチャの横幅
#define TEX_HEIGHT	(265.0f)	//テクスチャの縦幅

//*****************************************************************************
// プロトタイプ宣言
//*****************************************************************************


//*****************************************************************************
// グローバル変数
//*****************************************************************************
static int g_TexNo;
static D3DXCOLOR color;
static int flash;

//=============================================================================
// 初期化処理
//=============================================================================
void InitPushspace(void)
{
	//テクスチャの読み込み
	g_TexNo = LoadTexture((char*)"data/TEXTURE/pushspace.png");

	color = D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f);
	flash = 0;
}

//=============================================================================
// 終了処理
//=============================================================================
void UninitPushspace(void)
{

}

//=============================================================================
// 更新処理
//=============================================================================
void UpdatePushspace(void)
{
	flash++;
	if (flash == 10) {
		color.a = 1.0f;
	}
	if (flash == 30) {
		color.a = 0.0f;
		flash = 0;
	}
}

//=============================================================================
// 描画処理
//=============================================================================
void DrawPushspace(void)
{	
	//背景の描画
	DrawSpriteColor(g_TexNo,
		1375.0f, 700.0f,
		TEX_WIDTH, TEX_HEIGHT,
		0.0f, 0.0f,
		1.0f, 1.0f,
		color.r, color.g, color.g, color.a);
}