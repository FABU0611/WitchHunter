/*==============================================================================

	頂点管理 [bg.cpp]
	Author :20106_田中蓮
	Date   :23_07_06
--------------------------------------------------------------------------------

==============================================================================*/
#include "bg.h"
#include "sprite.h"
#include "texture.h"
#include "collision.h"
#include "player.h"
#include "enemy.h"
#include "hone.h"
#include "boss.h"
//#include "camera.h"

//*****************************************************************************
// マクロ定義
//*****************************************************************************
#define MAP_X	(MAP_SCREAN * SCREAN_NUM)
#define MAP_Y	(12)

//*****************************************************************************
// プロトタイプ宣言
//*****************************************************************************
void SetBossroom(void);


//*****************************************************************************
// グローバル変数
//*****************************************************************************

static int g_TexNo = 0;
static bool g_FightBoss;

struct MAPINFO
{
	D3DXVECTOR2 uv;
	int			isMove;	//1歩ける、0歩けない
};

static D3DXVECTOR2 g_MapInfoBase[] =
{ 
	{},
	{  0.0f, 0.0f},	//草原
	{0.125f, 0.0f},	//草原2
	{ 0.25, 0.0f},	//草原3
	{0.375, 0.0f},	//草原4
	{  0.5, 0.0f},	//土
	{0.625, 0.0f},	//岩
	{ 0.75, 0.0f},	//砂
	{0.875, 0.0f},	//砂利
};
static MAPINFO g_MapInfoObj[] =
{
	{{},1},
	{{  0.0f, 0.0f}, 0},	//草原		1
	{{0.125f, 0.0f}, 0},	//草原		2
	{{ 0.25f, 0.0f}, 0},	//草原		3
	{{0.375f, 0.0f}, 0},	//草原		4
	{{  0.5f, 0.0f}, 0},	//土		5
	{{  0.5f, 0.0f}, 1},	//土		6	boss
	{{0.625f, 0.0f}, 0},	//岩		6
	{{ 0.75f, 0.0f}, 0},	//砂		7
	{{0.875f, 0.0f}, 0},	//砂利		8
	{{  0.0f, 0.75},1},	//草１			9
	{{0.125f, 0.75},1},	//草２			10
	{{ 0.25, 0.75},1},	//枯草１		11
	{{0.375, 0.75},1},	//枯草２		12
	{{  0.5, 0.75},1},	//花１			13
	{{0.625, 0.75},1},	//花２			14
	{{ 0.75, 0.75},1},	//花３			15
	{{0.875, 0.75},1},	//花４			16
	{{  0.0f, 0.875},1},	//キノコ１	17
	{{0.125f, 0.875},1},	//キノコ２	18
	{{ 0.25, 0.875},0},	//水草１		19
	{{0.375, 0.875},0},	//水草２		20
	{{  0.5, 0.875},0},	//水１			21
	{{0.625, 0.875},0},	//水２			22
	{{ 0.75, 0.875},0},	//水３			23
	{{0.875, 0.875},0},	//穴			24
	{{  0.0f, 0.125f},0},	//木１右上	25
	{{0.125f, 0.125f},0},	//木１左上	26
	{{  0.0f,  0.25f},0},	//木１右下	27
	{{0.125f,  0.25f},0},	//木１左下	28
	{{  0.25f, 0.125f},0},	//木２右上	29
	{{0.375f, 0.125f},0},	//木２左上	30
	{{  0.25f,  0.25f},0},	//木２右下	31
	{{0.375f,  0.25f},0},	//木２左下	32
	{{  0.5f, 0.125f},0},	//木３右上	33
	{{0.625f, 0.125f},0},	//木３左上	34
	{{  0.5f,  0.25f},0},	//木３右下	35
	{{0.625f,  0.25f},0},	//木３左下	36
	{{ 0.75f, 0.125f},0},	//枯れ木左上37
	{{0.875f, 0.125f},0},	//枯れ木右上38
	{{ 0.75f,  0.25f},0},	//枯れ木左下39
	{{0.875f,  0.25f},0},	//枯れ木右下40
};
static D3DXVECTOR2 g_MapInfoEnemy[] =
{
	{},
	{ 0.0f, 0.0f},	//静止
	{ -1.0f, 0.0f},	//左向き ゴースト
	{ -1.0f, 0.0f},	//左向き 骨
	{ -1.0f, 0.0f},	//左向き ボス
	{ 1.0f, 0.0f},	//右向き
};

static int g_MapBase[MAP_Y][40] =
{
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
};

static int g_MapObj[MAP_Y][MAP_X] =
{
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 7, 7, 8, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 7, 7, 7, 1, 1, 0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 5, 5, 0, 0, 0, 0, 0, 0, 5, 5, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 0, 0, 0, 8, 8, 8, 8, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 7, 7, 7, 1, 1, 1, 1, 1, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5},
};

static int g_MapEnemy[MAP_Y][MAP_X] =
{
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
	{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
};

//=============================================================================
// 初期化処理
//=============================================================================
void InitBg(void)
{
	//テクスチャの読み込み
	g_TexNo = LoadTexture((char*)"data/TEXTURE/mapchip1.png");
	g_FightBoss = false;
}

//=============================================================================
// 終了処理
//=============================================================================
void UninitBg(void)
{

}

//=============================================================================
// 更新処理
//=============================================================================
void UpdateBg(void)
{
}


//=============================================================================
// 描画処理
//=============================================================================
//地面	ベースレイヤー
void DrawBg(void)
{
	//線をなくす
	SetSamplerState(FILTER_MODE_POINT, ADDRESS_MODE_CLAMP);

	//for (int y = 0; y < MAP_Y; y++) {
	//	for (int x = 0; x < MAP_X; x++) {
	//		//0は描画しない
	//		if (g_MapBase[y][x] == 0) {
	//			continue;
	//		}
	//		DrawSpriteLeftTopBase(g_TexNo,
	//			0.0f + (SIZE * x), 0.0f + (SIZE * y),
	//			SIZE, SIZE,
	//			g_MapInfoBase[g_MapBase[y][x]].x, g_MapInfoBase[g_MapBase[y][x]].y,//UV値の始点
	//			0.125f, 0.125f);
	//	}
	//}
	//キャラの上　オーバーレイヤー
}

//花とか木	オブジェクトレイヤー
void DrawBgObj(void)
{
	//線をなくす
	SetSamplerState(FILTER_MODE_POINT, ADDRESS_MODE_CLAMP);

	for (int y = 0; y < MAP_Y; y++) {
		for (int x = 0; x < MAP_X; x++) {
			//0は描画しない
			if (g_MapObj[y][x] == 0 ||
				g_MapObj[y][x] == 6) {
				continue;
			}
			g_FightBoss = GetFightBoss();
			SetBossroom();

			DrawSpriteLeftTopBase(g_TexNo,
				0.0f + (SIZE * x), 0.0f + (SIZE * y),
				SIZE, SIZE,
				g_MapInfoObj[g_MapObj[y][x]].uv.x, g_MapInfoObj[g_MapObj[y][x]].uv.y,//UV値の始点
				0.125f, 0.125f);
		}
	}
}
//ボス部屋の入り口をふさぐ
void SetBossroom(void) {
	for (int y = 0; y < MAP_Y; y++) {
		for (int x = 0; x < MAP_X; x++) {
			if (g_MapObj[y][x] == 6) {
				if (g_FightBoss) {
					//描画して
					DrawSpriteLeftTopBase(g_TexNo,
						0.0f + (SIZE * x), 0.0f + (SIZE * y),
						SIZE, SIZE,
						g_MapInfoObj[g_MapObj[y][x]].uv.x, g_MapInfoObj[g_MapObj[y][x]].uv.y,//UV値の始点
						0.125f, 0.125f);
					//当たる状態にする
					g_MapInfoObj[g_MapObj[y][x]].isMove = 0;
				}
				else {
					g_MapInfoObj[g_MapObj[y][x]].isMove = 1;
				}
			}
		}
	}
}

//敵をマップからセットする
void BgSetEnemy(void)
{
	for (int y = 0; y < MAP_Y; y++) {
		for (int x = 0; x < MAP_X; x++) {
			if (g_MapEnemy[y][x] == 2) {
				SetEnemy(SIZE * x, SIZE * y,
					g_MapInfoEnemy[g_MapEnemy[y][x]].x, g_MapInfoEnemy[g_MapEnemy[y][x]].y);
				continue;
			}
		}
	}
}
//骨をマップからセットする
void BgSetHone(void)
{
	for (int y = 0; y < MAP_Y; y++) {
		for (int x = 0; x < MAP_X; x++) {
			if (g_MapEnemy[y][x] == 3) {
				SetHone(SIZE * x, SIZE * y,
					g_MapInfoEnemy[g_MapEnemy[y][x]].x, g_MapInfoEnemy[g_MapEnemy[y][x]].y);
			}
		}
	}
}
//ボスをマップからセットする
void BgSetBoss(void)
{
	for (int y = 0; y < MAP_Y; y++) {
		for (int x = 0; x < MAP_X; x++) {
			if (g_MapEnemy[y][x] == 4) {
				SetBoss(SIZE * x, SIZE * y,
					g_MapInfoEnemy[g_MapEnemy[y][x]].x, g_MapInfoEnemy[g_MapEnemy[y][x]].y);
			}
		}
	}
}

bool CheckHitBG(float x, float y ,float width, float height)
{
	//プレーヤー矩形の過度の座標
	D3DXVECTOR2 left_top = D3DXVECTOR2(x - (width * 0.5f),y - (height * 0.5f));
	D3DXVECTOR2 right_top = D3DXVECTOR2(x + (width * 0.5f),y - (height * 0.5f));
	D3DXVECTOR2 left_bottom = D3DXVECTOR2(x - (width * 0.5f),y + (height * 0.5f));
	D3DXVECTOR2 right_bottom = D3DXVECTOR2(x + (width * 0.5f),y + (height * 0.5f));

	//配列の位置
	int mapx;
	int mapy;

	//左上のチェック
	mapx = left_top.x / SIZE;	//X座標をマップチップの横幅で割る
	mapy = left_top.y / SIZE;	//Y座標をマップチップの高さで割る
	//当たってる
	if (g_MapInfoObj[g_MapObj[mapy][mapx]].isMove == 0) {
		return true;
	}

	//右上のチェック
	mapx = right_top.x / SIZE;	//X座標をマップチップの横幅で割る
	mapy = right_top.y / SIZE;	//Y座標をマップチップの高さで割る
	//当たってる
	if (g_MapInfoObj[g_MapObj[mapy][mapx]].isMove == 0) {
		return true;
	}

	//左下のチェック
	mapx = left_bottom.x / SIZE;	//X座標をマップチップの横幅で割る
	mapy = left_bottom.y / SIZE;	//Y座標をマップチップの高さで割る
	//当たってる
	if (g_MapInfoObj[g_MapObj[mapy][mapx]].isMove == 0) {
		return true;
	}

	//右下のチェック
	mapx = right_bottom.x / SIZE;	//X座標をマップチップの横幅で割る
	mapy = right_bottom.y / SIZE;	//Y座標をマップチップの高さで割る
	//当たってる
	if (g_MapInfoObj[g_MapObj[mapy][mapx]].isMove == 0) {
		return true;
	}

	return false;
}